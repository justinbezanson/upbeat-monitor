services:
  # Backend API (Go)
  # Currently runs main.go in the root.
  api:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: upbeat-api
    ports:
      - "8080:8080"
    environment:
      - PORT=8080
    volumes:
      - .:/app
    working_dir: /app
    command: go run main.go
    restart: unless-stopped

  # Future services based on your documentation (Uncomment when ready):
  
  # Frontend SPA (Vue)
  # web:
  #   image: node:20-alpine
  #   working_dir: /app/web
  #   volumes:
  #     - ./web:/app/web
  #   command: npm run dev
  #   ports:
  #     - "5173:5173"
